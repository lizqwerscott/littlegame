{"version":3,"file":"bundle.js","sources":["../../src/Main.ts"],"sourcesContent":["import { fork } from \"child_process\";\r\nimport {start} from \"repl\";\r\n\r\nvar score = 0;\r\nconst width = 900;\r\nconst height = 1600;\r\n\r\nfunction ismobile() {\r\n    var browser = {\r\n        versions: function() {\r\n            var u = navigator.userAgent, app = navigator.appVersion;\r\n            return {     //移动终端浏览器版本信息\r\n                trident: u.indexOf('Trident') > -1, //IE内核\r\n                presto: u.indexOf('Presto') > -1, //opera内核\r\n                webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\r\n                gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核\r\n                mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\r\n                ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n                android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器\r\n                iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器\r\n                iPad: u.indexOf('iPad') > -1, //是否iPad\r\n                webApp: u.indexOf('Safari') == -1 //是否web应该程序，没有头部与底部\r\n            };\r\n        }(),\r\n    };\r\n    return browser.versions.mobile\r\n}\r\n\r\nfunction resize() {\r\n    var canvas = document.querySelector('canvas');\r\n    var windowWidth = window.innerWidth;\r\n    var windowHeight = window.innerHeight;\r\n    var windowRatio = windowWidth / windowHeight;\r\n    var gameRatio = width / height;\r\n\r\n    if (windowRatio < gameRatio) {\r\n        canvas.style.width = windowWidth + 'px';\r\n        canvas.style.height = (windowWidth / gameRatio) + 'px';\r\n    } else {\r\n        canvas.style.width = (windowHeight * gameRatio) + 'px';\r\n        canvas.style.height = windowHeight + 'px';\r\n    }\r\n\r\n}\r\n\r\nfunction randomNumber(count: number = 1, min: number = 1, max: number = 10, scope: number = 2) {\r\n    var numArray: number[] = new Array<number>();\r\n    var temp: number = 0;\r\n    var rightp: boolean = true;\r\n    var isrepeat: boolean = true;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        do {\r\n            temp = Math.floor(Math.random() * (max - min + 1) + min);\r\n            isrepeat = numArray.includes(temp);\r\n            if (isrepeat) {\r\n                rightp = true;\r\n            } else {\r\n                if (scope <= 0) {\r\n                    rightp = false;\r\n                } else {\r\n                    var iscan: boolean = false;\r\n                    for (let j = 0; j < numArray.length; j++) {\r\n                        if (Math.abs(numArray.at(j) - temp) < scope) {\r\n                            iscan = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    rightp = iscan;\r\n                }\r\n\r\n            }\r\n        } while (rightp)\r\n        numArray.push(temp);\r\n    }\r\n    return numArray;\r\n\r\n}\r\n\r\nclass Main {\r\n\r\n\r\n    constructor() {\r\n\r\n        // 这里是游戏具体代码\r\n        this._startGame()\r\n    }\r\n    private _startGame() {\r\n        let config = {\r\n            type: Phaser.AUTO,\r\n            width: width,\r\n            height: height,\r\n            physics: {\r\n                default: 'arcade',\r\n                arcade: {\r\n                    gravity: { y: 300 },\r\n                    debug: false\r\n                }\r\n            },\r\n            scene: [StartScene, HomeScene, FinishScene]\r\n        }\r\n\r\n        var game = new Phaser.Game(config);\r\n\r\n        window.focus();\r\n        resize();\r\n        window.addEventListener('resize', resize, false);\r\n    }\r\n\r\n\r\n}\r\n\r\nclass StartScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"StartScene\"\r\n        })\r\n    }\r\n    init() {\r\n        for (let i = 0; i < 100; i++) {\r\n            let array = randomNumber(3, 1, 10, 2);\r\n            //console.log(array);\r\n        }\r\n    }\r\n    preload() {\r\n        this.load.image('start', 'assets/start.png');\r\n        this.load.image('sky', 'assets/sky.png');\r\n    }\r\n    create() {\r\n        this.add.image(width / 2, height / 4, 'sky').setScale(2);\r\n        this.add.image(width / 2, height * 3 / 4, 'sky').setScale(2);\r\n\r\n        this.add.text(width / 2 - 50, height / 4, \"Up\", {\r\n            fontSize: '100px',\r\n            color: '#ff0000',\r\n            align: 'center'\r\n        });\r\n\r\n        let start = this.add.image(width / 2, height / 2, 'start');\r\n        start.setInteractive();\r\n        start.on('pointerdown', (pointer) => {\r\n            this.scene.stop('StartScene');\r\n            this.scene.start('HomeScene');\r\n        });\r\n    }\r\n}\r\n\r\nclass FinishScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: 'FinishScene'\r\n        })\r\n    }\r\n    parent: Phaser.Structs.Size;\r\n    sizer: Phaser.Structs.Size;\r\n\r\n    init() {\r\n\r\n    }\r\n\r\n    preload() {\r\n        this.load.image(\"restart\", 'assets/restart.png');\r\n        this.load.image('sky', 'assets/sky.png');\r\n    }\r\n\r\n    create() {\r\n        //console.log(\"width: \" + width);\r\n        //console.log(\"height: \" + height);\r\n\r\n        this.add.image(width / 2, height / 4, 'sky').setScale(2);\r\n        this.add.image(width / 2, height * 3 / 4, 'sky').setScale(2);\r\n\r\n        this.add.text(width / 2 - 50 * 3 - 50, height / 4, \"Wasted!\\n\" + \"You score: \" + score, {\r\n            fontSize: \"50px\",\r\n            color: \"#ff0000\",\r\n            align: \"center\"\r\n        });\r\n\r\n        let restart = this.add.image(width / 2, height / 2, 'restart');\r\n        restart.setInteractive();\r\n        restart.setScale(2);\r\n        restart.on('pointerup', (pointer) => {\r\n            this.scene.stop('FinishScene');\r\n            this.scene.start('HomeScene');\r\n        })\r\n\r\n    }\r\n}\r\n\r\nclass HomeScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: 'HomeScene'\r\n        })\r\n    }\r\n\r\n    platforms: Phaser.Physics.Arcade.StaticGroup;\r\n    //player = Phaser.Physics.Arcade.Sprite;\r\n    isDead: Boolean;\r\n    player: Phaser.Physics.Arcade.Sprite;\r\n    showScore: Phaser.GameObjects.Text;\r\n    width: number;\r\n    height: number;\r\n\r\n    groundIndex: number;\r\n\r\n    swipeDirection: string;\r\n\r\n    generateHeight: number;\r\n    generateTime: number;\r\n\r\n    groundDownSpeed: number;\r\n\r\n    init() {\r\n        this.groundIndex = 0;\r\n        this.isDead = false;\r\n        this.swipeDirection = 'turn';\r\n        this.generateHeight = 10;\r\n        this.generateTime = 0;\r\n        this.groundDownSpeed = 0.5;\r\n        score = 0;\r\n    }\r\n    preload() {\r\n        //this.load.setBaseURL('http://labs.phaser.io');\r\n\r\n        //this.load.image('sky', 'assets/skies/space3.png');\r\n        //this.load.image('logo', 'assets/sprites/phaser3-logo.png');\r\n        //this.load.image('red', 'assets/particles/red.png');\r\n        this.load.image('sky', 'assets/sky.png');\r\n        //this.load.image('ground', 'assets/platform.png');\r\n        this.load.image('star', 'assets/star.png');\r\n        this.load.image('bomb', 'assets/bomb.png');\r\n        this.load.image('stonep', 'assets/stonePlatform.png');\r\n        this.load.spritesheet('dude',\r\n            'assets/dude.png',\r\n            { frameWidth: 32, frameHeight: 48 });\r\n\r\n        this.load.image('left', 'assets/left.png');\r\n        this.load.image('right', 'assets/right.png');\r\n    }\r\n    create() {\r\n        this.add.image(width / 2, height / 4, 'sky').setScale(2);\r\n        this.add.image(width / 2, height * 3 / 4, 'sky').setScale(2);\r\n        this.showScore = this.add.text(0, 0, \"score: \" + score).setScale(3);\r\n        //this.add.image(400, 400, 'star');\r\n\r\n        this.platforms = this.physics.add.staticGroup();\r\n\r\n        this.platforms.create(width / 2, height - 32, 'stonep').setName(\"groundStone-2\");\r\n        this.platforms.create(width / 4 + 90, height - 180, 'stonep').setName(\"groundStone-1\");\r\n        this.platforms.create(width * 3 / 4 - 90, height - 180, 'stonep').setName(\"groundStone0\");\r\n\r\n        for (let i = 40; i < height - 200; i = i + 80) {\r\n            this.autoGenerateGround(i, 0);\r\n        }\r\n\r\n        //var groundMain = this.platforms.create(400, 568, 'ground').setName(\"ground1\");\r\n        //groundMain.setScale(2).refreshBody();\r\n        //this.platforms.create(600, 400, 'ground').setName(\"ground2\");\r\n        //this.platforms.create(50, 250, 'ground').setName(\"ground3\");\r\n        //this.platforms.create(750, 220, 'ground').setName(\"ground4\");\r\n\r\n        this.player = this.physics.add.sprite(width / 2, height - 100, 'dude');\r\n        this.player.setBounce(0.2);\r\n        this.player.setCollideWorldBounds(false);\r\n        this.player.setName(\"player\")\r\n\r\n        this.anims.create({\r\n            key: 'left',\r\n            frames: this.anims.generateFrameNumbers('dude', {\r\n                start: 0,\r\n                end: 3\r\n            }),\r\n            frameRate: 10,\r\n            repeat: -1\r\n        });\r\n\r\n        this.anims.create({\r\n            key: 'turn',\r\n            frames: [{ key: 'dude', frame: 4 }],\r\n            frameRate: 20\r\n        });\r\n\r\n        this.anims.create({\r\n            key: 'right',\r\n            frames: this.anims.generateFrameNumbers('dude', {\r\n                start: 5,\r\n                end: 8\r\n            }),\r\n            frameRate: 10,\r\n            repeat: -1\r\n        });\r\n\r\n        var collider = this.physics.add.collider(this.player, this.platforms);\r\n        collider.collideCallback = this.collectGround;\r\n        //this.physics.add.overlap(this.player, this.platforms, this.collectGround, null, this);\r\n        //\r\n        //this.input.on('pointerdown', this.handleTouch);\r\n        if (ismobile()) {\r\n            let left = this.add.image(width / 4, height - 100, 'left').setScale(3).setAlpha(0.3);\r\n            left.setInteractive();\r\n            left.on('pointerdown', (pointer) => {\r\n                this.swipeDirection = 'left';\r\n            })\r\n            left.on('pointerup', (pointer) => {\r\n                this.swipeDirection = 'turn';\r\n            })\r\n            let right = this.add.image(width * 3 / 4, height - 100, 'right').setScale(3).setAlpha(0.3);\r\n            right.setInteractive();\r\n            right.on('pointerdown', (pointer) => {\r\n                this.swipeDirection = 'right';\r\n            })\r\n            right.on('pointerup', (pointer) => {\r\n                this.swipeDirection = 'turn';\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    update(time, delta) {\r\n        var cursors = this.input.keyboard.createCursorKeys();\r\n        if (cursors.left.isDown || this.swipeDirection == \"left\") {\r\n            this.player.setVelocityX(-160);\r\n            this.player.anims.play('left', true);\r\n        } else if (cursors.right.isDown || this.swipeDirection == \"right\") {\r\n            this.player.setVelocityX(160);\r\n            this.player.anims.play('right', true);\r\n        } else {\r\n            this.player.setVelocityX(0);\r\n            this.player.anims.play('turn');\r\n        }\r\n\r\n        /*\r\n        if (cursors.up.isDown && this.player.body.touching.down) {\r\n            this.player.setVelocityY(-330);\r\n        }\r\n        */\r\n        if (this.player.body.touching.down) {\r\n            this.player.setVelocityY(-330);\r\n            score += 80;\r\n            this.groundDownSpeed += 0.01;\r\n        }\r\n\r\n        //console.log(\"time: \" + time);\r\n        //console.log(\"delta: \" + delta);\r\n\r\n        this.platforms.incY(this.groundDownSpeed);\r\n        this.platforms.refresh();\r\n\r\n        this.generateTime += Math.ceil(this.groundDownSpeed - 0.5);\r\n\r\n        //console.log(\"generateTime: \" + this.generateTime)\r\n\r\n        if (this.generateTime >= ((80 + 30) / this.groundDownSpeed)) {\r\n            //this.autoGenerateGround(-this.generateHeight, 0);\r\n            //this.generateHeight += 80;\r\n            this.autoGenerateGround(-10, 0);\r\n            this.generateTime = 0;\r\n        }\r\n\r\n        if (this.player.y > height + 5) {\r\n            this.isDead = true;\r\n        }\r\n\r\n        if (this.isDead) {\r\n            this.scene.stop('HomeScene');\r\n            this.scene.start('FinishScene');\r\n        }\r\n\r\n        this.platforms.children.each((ground: Phaser.GameObjects.GameObject) => {\r\n            if (ground.body.position.y > height + 5) {\r\n                //console.log(\"deleteGround: \", ground.name);\r\n                this.platforms.kill(ground);\r\n                this.platforms.remove(ground);\r\n                this.platforms.refresh();\r\n            }\r\n        });\r\n\r\n\r\n        this.showScore.text = \"score: \" + score;\r\n    }\r\n\r\n    randomX(min: number = -44, max: number = 44) {\r\n        return Math.random() * (max - min + 1) + min;\r\n    }\r\n\r\n    autoGenerateGround(y: number, count: number = 1) {\r\n        //stone width 90, stone height 30\r\n        const lineNum: number = Math.floor(width / 90);\r\n\r\n        if (count == 0) {\r\n            count = Math.floor(Math.random() * 3 + 1);\r\n        }\r\n\r\n        if ((Math.floor(Math.random() * 50 + 25)) == 27) {\r\n            count = 0;\r\n        }\r\n\r\n        if (count != 0) {\r\n            let numArray = randomNumber(count, 1, lineNum, 3);\r\n            for (let i = 0; i < count; i++) {\r\n                this.platforms.create(numArray.at(i) * 90 - 45 + this.randomX(), y, 'stonep').setName(\"stoneGround\" + this.groundIndex);\r\n                this.groundIndex++;\r\n            }\r\n        }\r\n    }\r\n\r\n    collectGround(object1: Phaser.GameObjects.GameObject, object2: Phaser.GameObjects.GameObject) {\r\n        //console.log(\"platform:\" + object1.name)\r\n        //console.log(\"platform:\" + object2.name)\r\n    }\r\n\r\n    handleTouch = (e) => {\r\n\r\n        let swipeTime = e.upTime - e.downTime;\r\n        let swipe = new Phaser.Geom.Point(e.upX - e.downX, e.upY - e.downY);\r\n        let swipeMagnitude = Phaser.Geom.Point.GetMagnitude(swipe);\r\n        let swipeNormal = new Phaser.Geom.Point(swipe.x / swipeMagnitude, swipe.y / swipeMagnitude);\r\n\r\n        if (swipeMagnitude > 20 && swipeTime < 1000 && (Math.abs(swipeNormal.y) > .8 || Math.abs(swipeNormal.x) > .8)) {\r\n            if (swipeNormal.x > .8) {\r\n                console.log('向右')\r\n                this.swipeDirection = 'right';\r\n            }\r\n            if (swipeNormal.x < -.8) {\r\n                console.log('向左')\r\n                this.swipeDirection = 'left';\r\n            }\r\n            if (swipeNormal.y > .8) {\r\n                console.log('向下')\r\n                this.swipeDirection = 'down';\r\n            }\r\n            if (swipeNormal.y < -.8) {\r\n                console.log('向上')\r\n                this.swipeDirection = 'up';\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}